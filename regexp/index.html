<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式学习笔记 | Slaine&#39;s blog</title>
    <meta name="description" content="Just playing around">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.f615766f.css" as="style"><link rel="preload" href="/assets/js/app.28165e44.js" as="script"><link rel="preload" href="/assets/js/2.ca5459af.js" as="script"><link rel="preload" href="/assets/js/12.de145f13.js" as="script"><link rel="prefetch" href="/assets/js/10.f7a84a98.js"><link rel="prefetch" href="/assets/js/11.c41d4088.js"><link rel="prefetch" href="/assets/js/13.6544eddd.js"><link rel="prefetch" href="/assets/js/14.a72d330e.js"><link rel="prefetch" href="/assets/js/15.98868ab8.js"><link rel="prefetch" href="/assets/js/16.b9d82f05.js"><link rel="prefetch" href="/assets/js/3.a98685d6.js"><link rel="prefetch" href="/assets/js/4.dd76a390.js"><link rel="prefetch" href="/assets/js/5.195b90bd.js"><link rel="prefetch" href="/assets/js/6.94a8f684.js"><link rel="prefetch" href="/assets/js/7.5b6b642f.js"><link rel="prefetch" href="/assets/js/8.5b7647ac.js"><link rel="prefetch" href="/assets/js/9.90e10d00.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f615766f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Slaine's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/help/" class="nav-link">
  帮助
</a></div><div class="nav-item"><a href="http://www.pilipili.pro" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的校友录
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/help/" class="nav-link">
  帮助
</a></div><div class="nav-item"><a href="http://www.pilipili.pro" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的校友录
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>正则表达式学习笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/regexp/#元字符" class="sidebar-link">元字符</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#字符组" class="sidebar-link">字符组</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#修饰符" class="sidebar-link">修饰符</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#预匹配" class="sidebar-link">预匹配</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#str-search-函数" class="sidebar-link">str.search()函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#str-match-函数" class="sidebar-link">str.match()函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#str-replace-函数" class="sidebar-link">str.replace()函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#str-split-函数" class="sidebar-link">str.split 函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#regexp-对象" class="sidebar-link">RegExp 对象:</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#reg-test-函数" class="sidebar-link">reg.test()函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#reg-exec-函数" class="sidebar-link">reg.exec() 函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#reg-compile-函数" class="sidebar-link">reg.compile()函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/regexp/#动态生成正则表达式" class="sidebar-link">动态生成正则表达式</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式学习笔记"><a href="#正则表达式学习笔记" class="header-anchor">#</a> 正则表达式学习笔记</h1> <h2 id="元字符"><a href="#元字符" class="header-anchor">#</a> 元字符</h2> <table><thead><tr><th>元字符</th> <th>描述</th></tr></thead> <tbody><tr><td>.</td> <td>查找单个字符，除了换行和行结束符。</td></tr> <tr><td>\w</td> <td>只查找 0-9,a-z,A-Z,与下划线</td></tr> <tr><td>\W</td> <td>查找非单词字符。</td></tr> <tr><td>\d</td> <td>查找数字。</td></tr> <tr><td>\D</td> <td>查找非数字字符。</td></tr> <tr><td>\s</td> <td>查找空白字符。</td></tr> <tr><td>\S</td> <td>查找非空白字符。</td></tr> <tr><td>\b</td> <td>匹配单词边界。</td></tr> <tr><td>\B</td> <td>匹配非单词边界。</td></tr> <tr><td>\0</td> <td>查找 NUL 字符。</td></tr> <tr><td>\n</td> <td>查找换行符。</td></tr> <tr><td>\f</td> <td>查找换页符。</td></tr> <tr><td>\r</td> <td>查找回车符。</td></tr> <tr><td>\t</td> <td>查找制表符。</td></tr> <tr><td>\v</td> <td>查找垂直制表符。</td></tr> <tr><td>\xxx</td> <td>查找以八进制数 xxx 规定的字符。</td></tr> <tr><td>\xdd</td> <td>查找以十六进制数 dd 规定的字符。</td></tr> <tr><td>\uxxxx</td> <td>查找以十六进制数 xxxx 规定的 Unicode 字符。</td></tr></tbody></table> <p>正则表达式匹配汉字的范围：\u4E00 - \u9FA5（不包含生僻字）</p> <h2 id="字符组"><a href="#字符组" class="header-anchor">#</a> 字符组</h2> <p>字符组用于查找某个范围内的字符：</p> <table><thead><tr><th>表达式</th> <th>描述</th></tr></thead> <tbody><tr><td>[abc]</td> <td>查找方括号之间的任何字符。</td></tr> <tr><td>[^abc]</td> <td>查找任何不在方括号之间的字符。</td></tr> <tr><td>[0-9]</td> <td>查找任何从 0 至 9 的数字。</td></tr> <tr><td>[a-z]</td> <td>查找任何从小写 a 到小写 z 的字符。</td></tr> <tr><td>[A-Z]</td> <td>查找任何从大写 A 到大写 Z 的字符。</td></tr> <tr><td>[A-z]</td> <td>查找任何从大写 A 到小写 z 的字符。</td></tr> <tr><td>[adgk]</td> <td>查找给定集合内的任何字符。</td></tr> <tr><td>[^adgk]</td> <td>查找给定集合外的任何字符。</td></tr> <tr><td>(red|blue|green)</td> <td>查找任何指定的选项。</td></tr></tbody></table> <hr> <h2 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h2> <p>加在正则表达式后,用于选择匹配模式</p> <table><thead><tr><th>修饰符</th> <th>描述</th></tr></thead> <tbody><tr><td>i</td> <td>执行对大小写不敏感的匹配。</td></tr> <tr><td>g</td> <td>执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td></tr> <tr><td>m</td> <td>执行多行匹配。</td></tr></tbody></table> <h2 id="预匹配"><a href="#预匹配" class="header-anchor">#</a> 预匹配</h2> <table><thead><tr><th>表达式</th> <th>描述</th></tr></thead> <tbody><tr><td>(?&lt;=exp)</td> <td><a>前方</a>会匹配表达式 exp</td></tr> <tr><td>(?&lt;!exp)</td> <td><a>前方</a>不能匹配表达式 exp</td></tr> <tr><td>(?=exp)</td> <td><a>后方</a>会匹配表达式 exp</td></tr> <tr><td>(?!exp)</td> <td><a>后方</a>不能匹配表达式 exp</td></tr></tbody></table> <h1 id="js-中的关于正则表达式方法"><a href="#js-中的关于正则表达式方法" class="header-anchor">#</a> JS 中的关于正则表达式方法</h1> <table><thead><tr><th>str 方法</th> <th>备注</th></tr></thead> <tbody><tr><td>str.search( /正则/ )</td> <td>如果存在则返回匹配的位置的不存在则返回- 1 ; 类似 str.indexOf( )</td></tr> <tr><td>str.match( /正则/ )</td> <td>查找 str 中所有符合/正则/要求的关键词保存到 arr 中 ; 返回数组</td></tr> <tr><td>str.replace( /正则/ ,&quot;新值&quot;)</td> <td>将 str 中所有符合/正则/要求的关键词都替换为统一的&quot;新值&quot;,返回字符串</td></tr> <tr><td>str.split( /正则/ );</td> <td>将字符串分割为以 /正则/ 相隔的数组 ; 返回一个数组且<a>不会保留</a>被正则选中的关键词</td></tr></tbody></table> <h2 id="str-search-函数"><a href="#str-search-函数" class="header-anchor">#</a> str.search()函数</h2> <p>与 str.indexOf 几乎相同,返回的是 number 类型的,字符串中第一个匹配值的数字下标而不是返回一个 string,没有全局模式,不能加 g
例如:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;您的验证码是123456,请在10分钟以内输入验证码&quot;</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/\d+/</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

输出<span class="token operator">:</span> number
<span class="token number">6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br> <h2 id="str-match-函数"><a href="#str-match-函数" class="header-anchor">#</a> str.match()函数</h2> <p>在 str.match(/正则/)中
如果找到了符合正则的值会返回匹配的值与值出现的位置,还有输入的值;
例如:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">&quot;今天的天气比较糟糕&quot;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/天气/</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>

输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;天气&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>input<span class="token operator">:</span> <span class="token string">&quot;今天的天气比较糟糕&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果在 str.match()中出现了修饰符 <a>g</a>
则不会返回<a>arr.index</a>与<a>arr.input</a>
只会返回一个包含匹配值的索引数组
例如:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;您的验证码是123456,请在10分钟以内输入验证码&quot;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\d+/g</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>

输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><br> <h2 id="str-replace-函数"><a href="#str-replace-函数" class="header-anchor">#</a> str.replace()函数</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/正则/gi</span><span class="token punctuation">,</span> <span class="token string">&quot;新值&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="去除字符串开头的若干空格"><a href="#去除字符串开头的若干空格" class="header-anchor">#</a> 去除字符串开头的若干空格:</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str0 <span class="token operator">=</span> <span class="token string">&quot;  	lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;</span>
<span class="token keyword">var</span> new_str0 <span class="token operator">=</span> str0<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s/gi</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出结果为</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>lorem ipsum dolor sit amet<span class="token punctuation">,</span> consectetur adipisicing elit<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><br>
除了这种传统用法亦可以在str.replace()函数中通过回调函数来进行一些更复杂的操作;
<p>例如</p> <h5 id="将单词首字母转大写"><a href="#将单词首字母转大写" class="header-anchor">#</a> 将单词首字母转大写:</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">&quot;lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;</span>
<span class="token keyword">var</span> new_str1 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b\w/g</span><span class="token punctuation">,</span> <span class="token parameter">keywords</span> <span class="token operator">=&gt;</span> keywords<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出结果为</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Lorem Ipsum Dolor Sit Amet<span class="token punctuation">,</span> Consectetur Adipisicing Elit<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><br> <h2 id="str-split-函数"><a href="#str-split-函数" class="header-anchor">#</a> str.split 函数</h2> <p>将字符串分割为以 /正则/ 相隔的数组 ; 返回一个数组且<a>不会保留</a>被正则选中的关键词
例如:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;您的验证码是123456,请在10分钟以内输入验证码&quot;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/\d+/g</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>

输出<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;您的验证码是&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;,请在&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;分钟以内输入验证码&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="regexp-对象"><a href="#regexp-对象" class="header-anchor">#</a> RegExp 对象:</h2> <p>通过 var reg=new RegExp(&quot;正则表达式&quot;,&quot;ig&quot;)
创建正则表达式对象</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>在声明 RegExp 对象时,如果要使用 \ 必须使用转义符 ,即通过\ \ 来代替 \ 单个斜杠</p></div> <table><thead><tr><th>正则方法</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td>reg.test(str)</td> <td style="text-align:center;">验证 str 中是否存在符合的值,如果有则返回 <a>true</a>,不要求从头到尾完整匹配</td></tr> <tr><td>reg.exec(str)</td> <td style="text-align:center;">查找每个关键词的内容，又查找每个关键词的位置,返回一个数组,默认只搜寻第一个值</td></tr> <tr><td>reg.compile(str)</td> <td style="text-align:center;">用于改变 reg 正则表达式,既可以改变 reg 式,也能改变修饰符</td></tr></tbody></table> <h2 id="reg-test-函数"><a href="#reg-test-函数" class="header-anchor">#</a> reg.test()函数</h2> <p>如果存在则返回<a>ture</a>,不存在则返回<a>false</a>.
可以用于测试前端字符串是否合格
例如:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> patt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;天气&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> patt1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;今天的天气比较糟糕,明天的天气会好很多&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

输出 <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以写成</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>result <span class="token operator">=</span> <span class="token regex">/天气/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;今天的天气比较糟糕,明天的天气会好很多&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

输出 <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>例如:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> patt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;^\\w+@\\w+\\.\\w+$&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//简单的测试邮箱</span>
result <span class="token operator">=</span> patt1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;10085@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

输出 <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="reg-exec-函数"><a href="#reg-exec-函数" class="header-anchor">#</a> reg.exec() 函数</h2> <p>默认只能搜寻第一个被匹配到的值,就和 str.match()不开全局搜索 <a>g</a> 一样
如果要搜寻多个值,需要配合循环使用,<s>真 TM 麻烦</s></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> patt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;天气&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
<span class="token keyword">do</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> patt1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;今天的天气比较糟糕,明天的天气会好很多&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        temp <span class="token operator">+=</span> result
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;最终结果:&quot;</span> <span class="token operator">+</span> temp<span class="token punctuation">)</span>

输出<span class="token operator">:</span>	<span class="token punctuation">[</span> <span class="token string">'天气'</span><span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> input<span class="token operator">:</span> <span class="token string">'今天的天气比较糟糕,明天的天气会好很多'</span> <span class="token punctuation">]</span>
		<span class="token punctuation">[</span> <span class="token string">'天气'</span><span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span> input<span class="token operator">:</span> <span class="token string">'今天的天气比较糟糕,明天的天气会好很多'</span> <span class="token punctuation">]</span>
		最终结果<span class="token operator">:</span>天气天气
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="reg-compile-函数"><a href="#reg-compile-函数" class="header-anchor">#</a> reg.compile()函数</h2> <p>用于修改 reg 的表达式或者修饰符,语法为</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>RegExpObject<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> modifier<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例如</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> patt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;^\\w+@\\w+\\.\\w+$&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//简单的测试邮箱</span>
result <span class="token operator">=</span> patt1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;10085@qq.com&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
patt1<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;^\\w+@icloud\\.com$&quot;</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> patt1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;10085@qq.com&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="动态生成正则表达式"><a href="#动态生成正则表达式" class="header-anchor">#</a> 动态生成正则表达式</h2> <p>可以用字符串拼接来动态生成正则表达式,或者使用 RegExp 对象来动态生成正则表达式</p> <p>例如</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> msg <span class="token operator">=</span> <span class="token string">&quot;明月几时有,把酒问青天&quot;</span>
<span class="token keyword">var</span> kws <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;明月&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;几时&quot;</span><span class="token punctuation">]</span>
temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>kws<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;|&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;ig&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>

输出 <span class="token punctuation">[</span> <span class="token string">'明月'</span><span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> input<span class="token operator">:</span> <span class="token string">'明月几时有,把酒问青天'</span> <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>或者</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> msg <span class="token operator">=</span> <span class="token string">&quot;明月几时有,把酒问青天&quot;</span>
<span class="token keyword">var</span> kws <span class="token operator">=</span> <span class="token string">&quot;/(明月)| (几时)/&quot;</span>
temp <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span>kws<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.28165e44.js" defer></script><script src="/assets/js/2.ca5459af.js" defer></script><script src="/assets/js/12.de145f13.js" defer></script>
  </body>
</html>
